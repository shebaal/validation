<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <title>Document</title>
</head>

<body>
    <div class="flexing">
        <div class="sec1">
            <!-- light Black -->

<nav>
    <div class="theme-switch-wrapper">
         <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
      <em> Dark Mode!</em>
    </div>
  
  </nav>  
  <section>
      <article class="post">
        <h1>Join Us</h1>
        <p class="post-meta">2022 <span>by</span>Sabaa</p>
  
        
        <p>We are happy to have you join our team. We need good taste to make good things. Instead of treating <strong class="eighthundred">beauty</strong> as an airy abstraction, to be either blathered about or avoided depending on how one feels about airy abstractions, letâ€™s try considering it as a practical question: how do you make good stuff?</p>
   <a href="#">Read More</a>
    </article>
  </section>

  <!-- end light black -->
        </div>
        <!-- <img src="images/dawn-ga72d5f753_1920.jpg" class="sec1" /> -->
        <div class="container" class="sec2">
            <form id="form" class="form">
                <h2>Register With Us</h2>
                <div class="form-control">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Enter Username">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="email">Email</label>
                    <input type="text" id="email" placeholder="Enter email">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter password"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[@#$%^&+=])(?=.*[A-Z]).{6,}"
                        title="Must contain at least one number and one uppercase and lowercase letter,and symbols and at least 6 or more characters">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="password2">Confirm Password</label>
                    <input type="password" id="password2" placeholder="Enter password again">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="age">Age</label>
                    <input type="text" id="age" placeholder="Enter Age">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="phoneNumber">Phone</label>
                    <input type="text" id="phoneNumber" placeholder="Enter Phone">
                    <small>Error Message</small>
                </div>
                <div class="form-control">
                    <label for="myurl">URL</label>
                    <input type="text" id="myurl" placeholder="Enter Url">
                    <small>Error Message</small>
                </div>

                <div class="form-control">
                    <label for="mytextarea">text</label>
                    <textarea id="mytextarea" placeholder="Enter text" /></textarea>
                </div>
                <button>Submit</button>
            </form>
        </div>

    </div>



</body>

<script>
    const form = document.getElementById('form');
    const username = document.getElementById('username');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const password2 = document.getElementById('password2');
    const phoneNumber = document.getElementById('phoneNumber');
    const age = document.getElementById('age');
    const myurl = document.getElementById('myurl');
    const mytextarea = document.getElementById('mytextarea');

    //Show input error messages
    function showError(input, message) {
        const formControl = input.parentElement;
        formControl.className = 'form-control error';
        const small = formControl.querySelector('small');
        small.innerText = message;
    }
    //Show textarea error messages
    function showError2(textarea, message) {
        const formControl = textarea.parentElement;
        formControl.className = 'form-control error';
        const small = formControl.querySelector('small');
        small.innerText = message;
    }

    //show success colour
    function showSucces(input) {
        const formControl = input.parentElement;
        formControl.className = 'form-control success';
    }

    //show textarea success colour
    function showSucces2(textarea) {
        const formControl = textarea.parentElement;
        formControl.className = 'form-control success';
    }


    //check email is valid
    function checkEmail(input) {
        const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        if (re.test(input.value.trim())) {
            showSucces(input)
        } else {
            showError(input, 'Email is not invalid');
        }
    }

    // check phone
    function checkphone(input) {
        var phoneno = /^[7]{3}?[0-9]{6}$/;
        if ((input.value.match(phoneno))) {
            showSucces(input);
        }
        else {
            showError(input, `${getFieldName(input)} is less than 9`)
        }
    }
    // check age
    function checkage(input) {
        var age1 = 17;
        if ((input.value > age1)) {
            showSucces(input);
        }
        else {
            showError(input, `${getFieldName(input)} bigger than 18`)
        }
    }


    function isValidHttpUrl(input) {
        //for https and www  like  http://www.san.com
        let url = /^((https?):\/\/)?([w|W]{3}\.)+[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?$/;


        if ((input.value.match(url))) {
            showSucces(input);

        } else {
            showError(input, `${getFieldName(input)} must be like https://www.example.com`);
        }

    }


    //checkRequired fields
    function checkRequired(inputArr) {

        inputArr.forEach(function (input) {
            if (input.value.trim() === '') {
                showError(input, `${getFieldName(input)} is required`)
            } else {
                showSucces(input);
            }
        });




    }

    function checkRequired2() {

        if (textarea.value.trim() === '') {
            showError2(textarea, `${getFieldName(textarea)} is required`)
        } else {
            showSucces2(textarea);
        }

    }


    //check input Length
    function checkLength(input, min, max) {
        if (input.value.length < min) {
            showError(input, `${getFieldName(input)} must be at least ${min} characters`);
        } else if (input.value.length > max) {
            showError(input, `${getFieldName(input)} must be les than ${max} characters`);
        } else {
            showSucces(input);
        }
    }
    //check textarea Length
    function checkLengthtext(textarea, min, max) {
        if (textarea.value.length < min) {
            showError2(textarea, `${getFieldName(textarea)} must be at least ${min} characters`);
        } else if (textarea.value.length > max) {
            showError2(textarea, `${getFieldName(textarea)} must be les than ${max} characters`);
        } else {
            showSucces(textarea);
        }
    }
    //get FieldName
    function getFieldName(input) {
        return input.id.charAt(0).toUpperCase() + input.id.slice(1);
    }

    // check passwords match
    function checkPasswordMatch(input1, input2) {
        if (input1.value !== input2.value) {
            showError(input2, 'Passwords do not match');
        }
    }


    //Event Listeners
    form.addEventListener('submit', function (e) {
        e.preventDefault();

        checkRequired([username, email, password, password2, phoneNumber, age, myurl]);
        checkRequired2(mytextarea);
        checkLength(username, 3, 10);
        checkLength(password, 6, 25);
        checkLengthtext(mytextarea, 20, 255);
        checkEmail(email);
        checkPasswordMatch(password, password2);
        checkphone(phoneNumber);
        checkage(age);
        isValidHttpUrl(myurl);
        checkLengthtext(mytextarea);
    });




    // light black
    const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
const currentTheme = localStorage.getItem('theme');

if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);
  
    if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
    }
}

function switchTheme(e) {
    if (e.target.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
    }
    else {        document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
    }    
}

toggleSwitch.addEventListener('change', switchTheme, false);
    // end light black
</script>

</html>